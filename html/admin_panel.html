<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administraci√≥n</title>
    <link rel="stylesheet" href="../styles/admin_panel.css">
    <!-- Guardi√°n de autenticaci√≥n: debe ser el primer script -->
    <script src="../js/auth-guard.js"></script>
</head>
<body>
    <!-- Header con informaci√≥n del administrador -->
    <header class="encabezado-admin">
        <div class="contenedor-header">
            <div class="seccion-logo">
                <img src="../IMG/logo.png" alt="Logo de la aplicaci√≥n" class="logo-principal">
            </div>
            <div class="seccion-bienvenida">
                <h1 class="mensaje-bienvenida">Panel de Administraci√≥n</h1>
                <p class="subtitulo-bienvenida">Bienvenido, <span id="nombreAdmin">Administrador</span></p>
            </div>
            <div class="seccion-acciones">
                <button class="boton-cerrar-sesion" id="btnCerrarSesion"> <!-- Se elimina el onclick -->
                    <span class="texto-cerrar">Cerrar Sesi√≥n</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="contenido-principal">
        <div class="contenedor-principal">
            
            <!-- Panel de estad√≠sticas r√°pidas -->
            <section class="seccion-estadisticas">
                <div class="estadistica-item">
                    <div class="numero-estadistica" id="totalRestaurantes">9</div>
                    <div class="texto-estadistica">Restaurantes</div>
                </div>
                <div class="estadistica-item">

                    <div class="numero-estadistica" id="totalPlatos">24</div>
                    <div class="texto-estadistica">Platos</div>
                </div>
                <div class="estadistica-item">
                    <div class="numero-estadistica" id="totalResenas">47</div>
                    <div class="texto-estadistica">Rese√±as</div>
                </div>
            </section>

            <!-- Secci√≥n principal de gesti√≥n -->
            <section class="seccion-gestion">
                <h2 class="titulo-seccion">Centro de Gesti√≥n</h2>
                
                <div class="grid-gestion">
                    
                    <!-- Gesti√≥n de Restaurantes -->
                    <div class="tarjeta-gestion" data-modulo="restaurantes">
                        <div class="imagen-gestion">
                            <img src="https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&h=400&fit=crop&crop=center" alt="Gesti√≥n de Restaurantes" class="imagen-modulo">
                        </div>
                        <div class="info-gestion">
                            <h3 class="nombre-modulo">Restaurantes</h3>
                            <p class="descripcion-modulo">Administra la informaci√≥n de todos los restaurantes: datos de contacto, horarios, especialidades y categor√≠as.</p>
                            <div class="acciones-rapidas">
                                <button class="boton-accion-rapida" data-accion="agregar-restaurante">
                                    <span class="icono-accion">‚ûï</span>
                                    <span class="texto-accion">Agregar Nuevo</span>
                                </button>
                                <button class="boton-accion-rapida" data-accion="ver-restaurantes">
                                    <span class="icono-accion">üìã</span>
                                    <span class="texto-accion">Ver Lista</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Gesti√≥n de Platos -->
                    <div class="tarjeta-gestion" data-modulo="platos">
                        <div class="imagen-gestion">
                            <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=600&h=400&fit=crop&crop=center" alt="Gesti√≥n de Platos" class="imagen-modulo">
                        </div>
                        <div class="info-gestion">
                            <h3 class="nombre-modulo">Platos</h3>
                            <p class="descripcion-modulo">Gestiona todos los platos del sistema: precios, descripciones, categor√≠as e ingredientes.</p>
                            <div class="acciones-rapidas">
                                <button class="boton-accion-rapida" data-accion="agregar-plato">
                                    <span class="icono-accion">‚ûï</span>
                                    <span class="texto-accion">Agregar Nuevo</span>
                                </button>
                                <button class="boton-accion-rapida" data-accion="ver-platos">
                                    <span class="icono-accion">üìã</span>
                                    <span class="texto-accion">Ver Men√∫s</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Gesti√≥n de Categor√≠as de Restaurantes -->
                    <div class="tarjeta-gestion" data-modulo="categorias-restaurantes">
                        <div class="imagen-gestion">
                            <img src="https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=600&h=400&fit=crop&crop=center" alt="Gesti√≥n de Categor√≠as de Restaurantes" class="imagen-modulo">
                        </div>
                        <div class="info-gestion">
                            <h3 class="nombre-modulo">Categor√≠as de Restaurantes</h3>
                            <p class="descripcion-modulo">Administra las categor√≠as de restaurantes: crear nuevas categor√≠as, editar existentes y organizar la clasificaci√≥n.</p>
                            <div class="acciones-rapidas">
                                <button class="boton-accion-rapida" data-accion="agregar-categoria-restaurante">
                                    <span class="icono-accion">‚ûï</span>
                                    <span class="texto-accion">Agregar Nueva</span>
                                </button>
                                <button class="boton-accion-rapida" data-accion="ver-categorias-restaurantes">
                                    <span class="icono-accion">üìã</span>
                                    <span class="texto-accion">Ver Lista</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Gesti√≥n de Categor√≠as de Platos -->
                    <div class="tarjeta-gestion" data-modulo="categorias-platos">
                        <div class="imagen-gestion">
                            <img src="https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=600&h=400&fit=crop&crop=center" alt="Gesti√≥n de Categor√≠as de Platos" class="imagen-modulo">
                        </div>
                        <div class="info-gestion">
                            <h3 class="nombre-modulo">Categor√≠as de Platos</h3>
                            <p class="descripcion-modulo">Administra las categor√≠as de platos: crear nuevas categor√≠as, editar existentes y organizar la clasificaci√≥n de men√∫s.</p>
                            <div class="acciones-rapidas">
                                <button class="boton-accion-rapida" data-accion="agregar-categoria-plato">
                                    <span class="icono-accion">‚ûï</span>
                                    <span class="texto-accion">Agregar Nueva</span>
                                </button>
                                <button class="boton-accion-rapida" data-accion="ver-categorias-platos">
                                    <span class="icono-accion">ÔøΩ</span>
                                    <span class="texto-accion">Ver Lista</span>
                                </button>
                            </div>
                        </div>
                    </div>

                </div>
            </section>

        </div>
    </main>

    <script type="module" src="../js/admin_panel.js" defer></script>

    <!-- Modal Agregar Restaurante -->
    <div id="modalAgregarRestaurante" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Agregar Nuevo Restaurante</h2>
                <button class="boton-cerrar-modal" id="cerrarModalAgregar">&times;</button>
            </div>
            <div class="modal-body">
                <form id="formAgregarRestaurante" class="form-restaurante">
                    <div class="form-row">
                        <div class="campo-form">
                            <label for="nombreRestaurante">Nombre del Restaurante *</label>
                            <input type="text" id="nombreRestaurante" name="nombre" required placeholder="Ej: Pasta Italia">
                        </div>
                        <div class="campo-form">
                            <label for="categoriaRestaurante">Categor√≠a *</label>
                            <select id="categoriaRestaurante" name="categoria" required>
                                <option value="">Seleccionar categor√≠a</option>
                                <option value="italiana">Italiana</option>
                                <option value="mexicana">Mexicana</option>
                                <option value="americana">Americana</option>
                                <option value="asiatica">Asi√°tica</option>
                                <option value="postres">Postres</option>
                                <option value="vegetariana">Vegetariana</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="campo-form">
                        <label for="descripcionRestaurante">Descripci√≥n *</label>
                        <textarea id="descripcionRestaurante" name="descripcion" rows="3" required placeholder="Descripci√≥n del restaurante y su especialidad..."></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="campo-form">
                            <label for="direccionRestaurante">Direcci√≥n *</label>
                            <input type="text" id="direccionRestaurante" name="direccion" required placeholder="Calle, n√∫mero, ciudad">
                        </div>
                        <div class="campo-form">
                            <label for="telefonoRestaurante">Tel√©fono *</label>
                            <input type="tel" id="telefonoRestaurante" name="telefono" required placeholder="+1 (555) 123-4567">
                        </div>
                    </div>
                    
                    <div class="campo-form">
                        <label for="horariosRestaurante">Horarios *</label>
                        <input type="text" id="horariosRestaurante" name="horarios" required placeholder="Ej: Lunes a Domingo: 12:00 PM - 11:00 PM">
                    </div>
                    
                    <div class="campo-form">
                        <label for="imagenRestaurante">URL de Imagen</label>
                        <input type="url" id="imagenRestaurante" name="imagen" placeholder="https://ejemplo.com/imagen.jpg">
                    </div>
                    
                    <div class="campo-form">
                        <label for="especialidadesRestaurante">Especialidades (separadas por comas)</label>
                        <input type="text" id="especialidadesRestaurante" name="especialidades" placeholder="Pizza Margherita, Pasta Carbonara, Tiramisu">
                    </div>
                    
                    <div class="acciones-form">
                        <button type="button" class="boton-cancelar" id="cancelarAgregar" onclick="cerrarModalAgregarRestaurante()">Cancelar</button>
                        <button type="button" class="boton-guardar" id="btnGuardarRestaurante">Guardar Restaurante</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Ver Lista de Restaurantes -->
    <div id="modalListaRestaurantes" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Lista de Restaurantes</h2>
                <button class="boton-cerrar-modal" id="cerrarModalLista">&times;</button>
            </div>
            <div class="modal-body">
                <div class="busqueda-simple">
                    <input type="text" id="buscarRestaurante" placeholder="Buscar restaurante..." class="input-busqueda-simple">
                </div>
                
                <div id="listaRestaurantesSimple" class="lista-restaurantes-simple">
                    <!-- Los restaurantes se cargar√°n din√°micamente -->
                </div>
            </div>
        </div>
    </div>

</body>
</html>